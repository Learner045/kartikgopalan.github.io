%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: hotos.dvi
%%Pages: 6
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Times-BoldItalic
%%+ Helvetica-Bold
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o hotos.ps hotos
%DVIPSParameters: dpi=300, compressed
%DVIPSSource:  TeX output 2001.01.22:0345
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (hotos.dvi)
@start /Fa 139[10 7[10 6[17 3[19 97[{TeXBase1Encoding ReEncodeFont}4
37.3599 /Times-Italic rf /Fb 134[19 19 27 19 19 10 15
12 1[19 19 19 29 10 19 1[10 19 19 12 17 19 17 19 17 3[12
1[12 2[27 35 27 27 23 21 25 1[21 27 27 33 23 27 15 12
1[27 21 23 27 25 25 27 6[10 19 19 19 19 19 19 19 19 19
19 1[9 12 9 41[21 2[{TeXBase1Encoding ReEncodeFont}62
37.3599 /Times-Roman rf /Fc 133[18 21 21 30 21 21 12
16 14 1[21 21 21 32 12 21 1[12 21 21 14 18 21 18 1[18
11[30 1[23 14[30 17[21 21 1[12 10 14 3[14 14 36[23 23
2[{.167 SlantFont TeXBase1Encoding ReEncodeFont}35 41.511
/Times-Roman rf /Fd 138[25 2[16 5[12 2[12 1[25 1[23 2[25
23 12[25 13[25 20[23 2[12 46[{TeXBase1Encoding ReEncodeFont}12
41.511 /Helvetica-Bold rf /Fe 138[23 14 1[18 1[23 21
23 35 1[23 1[12 3[18 23 18 1[21 12[28 23 30 1[25 32 5[16
1[32 25 23[10 46[{TeXBase1Encoding ReEncodeFont}22 41.511
/Times-Bold rf /Ff 139[14 19 19 8[14 28 20[28 83[{
TeXBase1Encoding ReEncodeFont}6 49.8132 /Times-BoldItalic
rf
%DVIPSBitmapFont: Fg cmr7 7 2
/Fg 2 51 df<120C121C12EC120CAFEAFFC00A137D9211>49 D<121FEA60C01360EAF070
13301260EA0070A2136013C012011380EA02005AEA08101210EA2020EA7FE012FF0C137E
9211>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fh cmex10 10 1
/Fh 1 81 df<B712F0A20070C7EA0FF8007814006C1538001C151C6C150C000F15046C15
066C6C14026D14006C7E1200137013787F131C131E7F7F6D7EA291C8FC5B13065B5B1338
13305B5B120149140248C8120600061504000E150C000C151C4815384815F80070140F00
7FB612F0B7FC272A7E7F2C>80 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fi cmsy10 10 1
/Fi 1 1 df<B61280A219027D8A20>0 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmr10 10 9
/Fj 9 62 df<EA03C0EA0C30EA1818EA300CA2EA700EEA6006A2EAE007ADEA6006A2EA70
0EEA300CA2EA1818EA0C30EA07E0101D7E9B15>48 D<5A1207123F12C71207B3A5EAFFF8
0D1C7C9B15>I<EA07C0EA1830EA201CEA400C130EEAF00F12F81307A21270EA000F130E
A2131CA213381370136013C0EA0180EA0300EA0601120C1218EA1002EA3FFE127F12FF10
1C7E9B15>I<EA07E0EA1830EA201CA2EA781E130E131E1238EA001CA2131813301360EA
07C0EA0030131CA2130E130FA2127012F8A3EAF00EEA401C1220EA1830EA07C0101D7E9B
15>I<130CA2131C133CA2135C13DC139CEA011C120312021204120C1208121012301220
124012C0B512C038001C00A73801FFC0121C7F9B15>I<EA300CEA3FF813F013C0EA2000
A6EA23E0EA2C30EA3018131CEA200E1200130FA3126012F0A3EA800EEA401E131CEA2038
EA1870EA07C0101D7E9B15>I<13F0EA030CEA0404EA0C0EEA181E1230130CEA7000A212
60EAE3E0EAE430EAE818EAF00C130EEAE0061307A51260A2EA7006EA300E130CEA1818EA
0C30EA03E0101D7E9B15>I<EA03E0EA0C30EA1008EA200C13061260A21270A2EA7C0CEA
3E18EA3FB0EA1FE0EA07F013F8EA18FCEA307EEA601E130FEAC0071303A4EA60021304EA
300CEA1C10EA07E0101D7E9B15>56 D<B612E0A2C9FCA8B612E0A21B0C7E8F20>61
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmmi7 7 5
/Fk 5 111 df<EB3F08EBC09838030070000613305A5A00381320481300A35AA3144000
601380A2383001001302EA0C1CEA07E015147E9318>67 D<EA07FCEA00E0485AA4485AA4
48C7FCA31420000E1340A214801301EA1C07B5120013147F9317>76
D<1206120712061200A41238124CA2128C12981218A212301232A21264A2123808147F93
0C>105 D<3830F87C38590C86384E0D06EA9C0EEA980C1218A248485A15801418A23960
301900140E190D7F8C1D>109 D<EA30F8EA590C124E129C12981218A2EA301813191331
A2EA6032131C100D7F8C15>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmmi10 10 11
/Fl 11 106 df<EB01F0EB0618EB080C1310EB200E13401380141CEA0100141814383802
0FF0EB10C0EB0FE0EB00305AA21438A2481370A314E01218EB01C000141380EB0300EA23
0EEA20F890C7FCA25AA45AA217257F9C17>12 D<130113031306A3130CA31318A31330A3
1360A213C0A3EA0180A3EA0300A31206A25AA35AA35AA35AA35AA210297E9E15>61
D<903801F80890380E0618903838013890386000F048481370485A48C71230481420120E
5A123C15005AA35AA45CA300701302A200305B00385B6C5B6C136038070180D800FEC7FC
1D1E7E9C1E>67 D<3A01FFC07F803A003C001E000138131815205D5DD97002C7FC5C5C5C
EBE04014C0EBE1E013E23801C47013D0EBE03813C0EA038080A280EA0700A280A2488039
FFE03FF0211C7E9B23>75 D<D801FCEBFF80D8001CEB1C00012E13181510A2132701475B
13431480A2903881C040A3EB80E0D801005B1470A300020139C7FCA3141D48131E140EA2
120C001C1304EAFF80211C7E9B21>78 D<3801FFFE39003C03C090383800E015F01570A2
4913F0A3EC01E001E013C0EC0780EC1E00EBFFF03801C038140C140EA2EA0380A4380700
1E1508A2151048130FD8FFE01320C7EA03C01D1D7E9B20>82 D<3AFFC0FFC0FF3A3C001C
003C001C1510143C1620025C1340A2029C1380A29039011C0100A20102130213045D0108
5BA2496C5A121ED80E205BA201405B018013C05D260F000FC7FCA2000E130EA2000C130C
A2281D7D9B27>87 D<39FFE007F8390F0001E0158015006C13026D5A00035BEBC0181410
00015B6D5A00005B01F1C7FC13F21376137C1338A25BA45BA4485AEA1FFC1D1C7F9B18>
89 D<EB07E01300A2EB01C0A4EB0380A43801E700EA0717EA0C0F1218EA380E12301270
A2485AA4EB3880A3EA607838319900EA1E0E131D7E9C16>100 D<EB01E0EB0630EB0E78
14F0EB1C601400A45BA23803FFC038003800A25BA55BA5485AA55B1203A20063C7FC12F3
12F612E4127815257E9C14>102 D<EA01C01203A2EA0180C7FCA6121C12271247A21287
A2120EA25AA35A1380A21270EA71001232121C0A1C7E9B0E>105
D E
%EndDVIPSBitmapFont
/Fm 134[17 17 24 17 17 9 13 11 17 17 17 17 26 9 17 1[9
17 17 11 15 17 15 17 15 12[20 18 2[18 1[24 7[18 2[22
1[24 12[17 4[9 8 1[8 40[18 3[{TeXBase1Encoding ReEncodeFont}36
33.2088 /Times-Roman rf /Fn 203[12 12 12 12 49[{
TeXBase1Encoding ReEncodeFont}4 24.9066 /Times-Roman
rf /Fo 203[15 15 15 15 49[{TeXBase1Encoding ReEncodeFont}4
29.0577 /Times-Roman rf /Fp 107[18 25[18 21 21 30 21
21 12 16 14 21 21 21 21 32 12 21 1[12 21 21 14 18 21
18 21 18 3[14 1[14 2[30 39 1[30 25 23 28 1[23 30 30 37
25 2[14 30 30 23 25 30 28 28 30 5[12 12 21 21 21 21 21
21 21 21 21 21 12 10 14 10 2[14 14 14 35[23 23 2[{
TeXBase1Encoding ReEncodeFont}69 41.511 /Times-Roman
rf /Fq 134[18 18 28 18 21 12 16 16 21 21 21 21 30 12
18 1[12 21 21 12 18 21 18 21 21 9[35 3[21 2[25 6[14 26[10
14 10 40[21 21 2[{TeXBase1Encoding ReEncodeFont}33 41.511
/Times-Italic rf /Fr 134[25 1[36 25 28 17 19 22 2[25
28 41 14 28 1[14 28 25 17 22 28 22 28 25 9[50 2[33 28
36 1[30 2[47 3[19 2[30 33 36 36 33 36 7[25 25 25 25 25
25 25 25 25 3[17 42[28 2[{TeXBase1Encoding ReEncodeFont}45
49.8132 /Times-Bold rf /Fs 133[22 25 3[25 14 19 17 1[25
25 25 39 14 25 1[14 25 1[17 22 25 22 1[22 7[36 3[36 30
28 2[28 1[36 2[36 3[36 2[36 33 33 19[12 17 12 44[{
TeXBase1Encoding ReEncodeFont}33 49.8132 /Times-Roman
rf /Ft 134[30 3[33 20 23 27 1[33 30 33 50 17 2[17 1[30
20 27 2[33 30 13[33 43 1[37 6[23 4[43 68[{TeXBase1Encoding ReEncodeFont}
21 59.7758 /Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin
%%PaperSize: Letter
%%BeginPaperSize: Letter
/setpagedevice where {
pop 1 dict dup /PageSize [ 612 792 ] put setpagedevice
} {
statusdict /lettertray known {
statusdict begin lettertray end
/letter where { pop letter } if
} {
/letter where {
pop letter
} {
statusdict /setpage known {
statusdict begin
612 792 0 setpage
end
} if
} ifelse
} ifelse
} ifelse
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 173 187 a Ft(Design)15 b(Issues)h(in)f(System)f(Support)h(f)o
(or)f(Pr)o(ogrammable)e(Routers)425 345 y Fs(Prashant)g(Pradhan,)g
(Kartik)g(Gopalan,)h(Tzi-cker)e(Chiueh)455 403 y(Dept.)k(of)d(Computer)
g(Science,)h(SUNY)f(Ston)o(y)g(Brook)308 578 y Fr(Abstract)-41
680 y Fq(Placement)h(of)f(computation)f(inside)h(the)h(network)g(is)f
(a)h(pow-)-91 730 y(erful)f(computation)f(model)h(that)f(can)i(impr)n
(ove)g(the)f(over)o(all)h(per)o(-)-91 780 y(formance)8
b(of)h(network)f(applications.)i(In)f(this)f(paper)-5
b(,)10 b(we)f(addr)n(ess)-91 829 y(the)g(pr)n(oblem)g(of)g(pr)n
(oviding)f(sound)g(and)h(ef)o(\002cient)g(system)h(support)-91
879 y(for)h(placing)g(computation)f(in)h(a)h(network)g(r)n(outer)-5
b(.)18 b(W)l(e)13 b(identify)d(a)-91 929 y(set)h(of)g(r)n(equir)n
(ements,)j(r)n(elated)d(to)g(pr)n(otection,)g(r)n(esour)n(ce)j(contr)n
(ol,)-91 979 y(sc)o(heduling)c(and)h(ef)o(\002ciency)n(,)i(that)d(ar)n
(e)i(r)n(ele)o(vant)g(to)f(the)g(design)g(of)-91 1029
y(this)i(system)i(support.)24 b(W)l(e)14 b(have)h(de)o(veloped)g(a)f
(system)h(that)e(at-)-91 1079 y(tempts)c(to)g(meet)h(these)g(r)n(equir)
n(ements,)h(and)e(have)h(used)f(it)g(to)g(write)-91 1128
y(a)15 b(r)n(outer)h(application)c(that)j(performs)g(aggr)n(e)n(gated)g
(congestion)-91 1178 y(contr)n(ol.)-91 1351 y Fr(1)50
b(Intr)o(oduction)-41 1465 y Fp(The)18 b(tremendous)f(success)j(of)d
(data)h(networks)e(can)j(lar)o(gely)-91 1515 y(be)e(attrib)o(uted)e(to)
i(the)g(simplicity)e(and)i(rob)o(ustness)f(of)h(the)g(net-)-91
1564 y(work')n(s)f(service)i(model.)35 b(By)17 b(placing)g(all)h
(comple)o(xity)e(in)h(the)-91 1614 y(end-systems)f(and)g(pro)o(viding)d
(a)k(simple,)g(stateless)f(forwarding)-91 1664 y(service,)10
b(the)e(network)g(can)h(pro)o(vide)f(a)i(communication)e(substrate)-91
1714 y(that)j(is)h(resilient)f(to)h(link)f(and)h(node)g(failures.)18
b(Good)11 b(end-to-end)-91 1764 y(algorithms,)16 b(like)e(TCP)i(for)f
(congestion)g(control,)h(ha)o(v)o(e)g(further)-91 1814
y(contrib)o(uted)e(to)h(the)h(adequac)o(y)h(of)f(this)f(model,)i(by)f
(being)f(able)-91 1863 y(to)9 b(control)f(network)g(stability)f(using)i
(purely)g(end-to-end)f(mecha-)-91 1913 y(nisms.)-41 1965
y(Ho)o(we)o(v)o(er)n(,)13 b(there)e(is)h(quantitati)o(v)o(e)d(e)o
(vidence)k(to)d(sho)o(w)i(that)e(the)-91 2015 y(ability)i(to)i(place)h
(computation)e(inside)g(the)h(network)f(leads)i(to)f(a)-91
2065 y(fundamentally)7 b(more)i(po)o(werful)e(computation)g(model.)12
b(T)m(o)d(be)o(gin)-91 2115 y(with,)14 b(such)g(a)g(capability)e(allo)o
(ws)i(one)f(to)g(control)g(ho)o(w)g(the)h(net-)-91 2164
y(work)e(processes)j(and)f(routes)f(packets)h(of)f(certain)h
(applications,)-91 2214 y(af)o(fording)h(v)o(arious)g(optimizations)g
(not)g(possible)h(with)f(a)i(static)-91 2264 y(forwarding)9
b(service)i([1].)k(Computation)8 b(placed)k(in)e(the)h(network)-91
2314 y(also)f(has)h(the)f(ability)e(to)i(e)o(xploit)f(topological)f
(adv)o(antage,)j(for)f(e)o(x-)-91 2364 y(ample,)k(reco)o(v)o(ery)g
(latenc)o(y)f(for)f(reliable)g(multicast)g(impro)o(v)o(es)h(by)-91
2413 y(performing)c(local)h(reco)o(v)o(ery)i(in)e(routers)g([2)o(].)k
(Similarly)m(,)c(the)g(per)o(-)-91 2463 y(formance)k(of)f(heterogenous)
f(recei)o(v)o(ers)j(recei)o(ving)e(media)g(\003o)o(ws)-91
2513 y(impro)o(v)o(es)i(by)f(using)g(a)h(transcoding)e(video)h(gate)o
(way)h([3)o(].)27 b(Fur)o(-)-91 2563 y(ther)n(,)17 b(access)g(to)d
(multiple)g(\003o)o(ws)h(belonging)f(to)g(an)i(application)-91
2613 y(\(or)c Fq(global)e(conte)o(xt)p Fp(\),)k(typically)c(af)o(fords)
i(some)i(global)d(informa-)-91 2663 y(tion)g(that)h(is)h(useful)f(to)g
(the)h(o)o(v)o(erall)f(performance)i(of)e(that)g(appli-)987
578 y(cation.)i(F)o(or)c(e)o(xample,)j(kno)o(wledge)c(of)i(congestion)e
(state)i(probed)987 628 y(by)16 b(independent)f(\003o)o(ws)h(is)g
(useful)f(for)h(ne)o(w)g(TCP)g(\003o)o(ws,)i(lead-)987
678 y(ing)12 b(to)h(better)f(o)o(v)o(erall)h(TCP)h(performance)g([4)o
(],)g(whereas)h(global)987 728 y(kno)o(wledge)h(of)g(session)g(ID)g(to)
g(cluster)g(node)g(mappings)g(in)g(an)987 778 y(SSL)f(serv)o(er)g
(cluster)f(leads)h(to)f(impro)o(v)o(ed)g(connection)f(through-)987
827 y(put)i([5].)31 b(In)16 b(man)o(y)h(cases,)j(the)c(ability)f(to)h
(place)h(computation)987 877 y(e)o(v)o(en)11 b(in)f(a)h(restricted)f
(set)h(of)f(network)f(nodes)h(\(e.g.)k(edge)d(routers\))987
927 y(can)g(pro)o(vide)e(a)i(lar)o(ge)g(subset)f(of)g(the)g(bene\002ts)
h(of)f(this)f(paradigm.)1037 982 y(Ho)o(we)o(v)o(er)n(,)14
b(the)f(success)h(of)f(this)f(paradigm)g(in)g(real)i(networks)987
1032 y(critically)c(depends)i(upon)f(the)h(e)o(xistence)h(of)e
(carefully)h(designed)987 1081 y(system)f(support)e(for)h
(programmability)f(in)g(routers.)14 b(The)d(service)987
1131 y(pro)o(vided)17 b(by)h(the)g(network)f(relies)h(on)g(the)g
(functionality)d(pro-)987 1181 y(vided)e(by)g(its)g(routers.)22
b(W)n(ithout)12 b(appropriate)h(resource)h(control)987
1231 y(and)h(protection)f(mechanisms,)19 b(dynamically)c(added)h
(computa-)987 1281 y(tion)g(can)i(ef)o(fect)g(the)f(performance)h(and)f
(inte)o(grity)e(of)i(the)g(sys-)987 1331 y(tem)11 b(in)g(undesirable)f
(ways.)15 b(Moreo)o(v)o(er)n(,)e(a)e(router)g(is)f(a)i(massi)o(v)o(ely)
987 1380 y(shared)e(system,)h(and)f(its)f(resources)h(are)h(used)f(by)f
(a)h(lar)o(ge)g(number)987 1430 y(of)16 b(\003o)o(ws.)30
b(This)16 b(makes)h(ef)o(fecti)o(v)o(e)g(arbitration)d(of)i(the)f
(router')n(s)987 1480 y(resources)j(between)f(these)h(\003o)o(ws)f(an)h
(important)d(requirement.)987 1530 y(Besides)e(correct)g(design,)h(ef)o
(\002cienc)o(y)g(is)f(a)g(ke)o(y)g(requirement)g(for)987
1580 y(making)i(it)f(practical)h(for)g(performance)h(sensiti)o(v)o(e)f
(applications)987 1629 y(to)f(use)g(router)g(e)o(xtensions.)25
b(Our)14 b(goal)g(in)g(this)f(paper)i(is)f(to)g(dis-)987
1679 y(cuss)f(some)g(of)g(the)f(requirements)g(for)g(sound)g(and)h(ef)o
(\002cient)f(sys-)987 1729 y(tem)f(support)d(for)i(router)g
(programmability)m(.)1037 1784 y(In)15 b(the)h(rest)g(of)f(the)h(paper)
n(,)i(we)e(shall)g(use)g(the)g(term)g(\224router)987
1834 y(OS\224)10 b(in)f(place)h(of)f(\224system)h(support)e(for)h
(programmable)h(routers\224)987 1884 y(and)i(the)g(term)g(\224router)g
(application\224)f(in)g(place)i(of)e(\224computation)987
1933 y(placed)17 b(in)e(programmable)i(routers\224)1553
1918 y Fo(1)1569 1933 y Fp(.)31 b(In)16 b(the)g(follo)o(wing)d(sec-)987
1983 y(tions,)j(we)g(describe)g(the)g(main)f(requirements)h(that)f(we)h
(belie)o(v)o(e)987 2033 y(should)9 b(be)i(taken)e(into)g(account)i
(while)f(designing)e(a)j(router)f(OS.)987 2164 y Fr(2)50
b(Ef\002cient)11 b(Memory)i(Pr)o(otection)1037 2288 y
Fp(Memory)f(protection)e(is)i(a)g(basic)g(requirement)g(for)f
(maintain-)987 2337 y(ing)c(system)i(inte)o(grity)e(in)g(the)h
(presence)i(of)e(dynamically)g(installed)987 2387 y(functions.)j(A)f
(dynamically)e(added)i(function)d(may)j(not)f(necessar)o(-)987
2437 y(ily)h(be)i(malicious,)f(b)o(ut)g(it)f(may)i(perform)f
(unintended)f(operations)987 2487 y(that)k(compromise)h(the)f(safety)h
(of)f(the)g(system.)27 b(Since)15 b(the)f(e)o(x)o(e-)987
2537 y(cution)9 b(of)g(a)h(function,)f(in)g(general,)i(may)f(be)g
(dependent)g(upon)f(the)p 987 2584 394 2 v 1032 2611
a Fn(1)1047 2623 y Fm(Note)g(that)h(the)f(terminology)f(is)i(not)g
(entirely)f(accurate)f(since)h(these)g(entities)987 2663
y(could)e(take)g(the)h(form)g(of)g(a)g(language)e(runtime)i(and)f(a)h
(program)f(in)h(the)g(language.)p eop
%%Page: 2 2
2 1 bop -91 42 a Fp(en)n(vironment)7 b(it)h(e)o(x)o(ecutes)i(in,)f(it)e
(may)i(not)f(be)g(possible)g(to)g(e)o(xhaus-)-91 91 y(ti)o(v)o(ely)j
(test)h(it)g(for)f(safe)j(operation.)j(Thus)c(in)f(general,)h(a)g
(\224trusted)-91 141 y(function\224)g(may)j(not)e(be)h(safe)g(unless)g
(there)g(are)g(restrictions)f(on)-91 191 y(what)c(kind)f(of)h
(computation)f(the)h(function)f(may)i(perform.)-41 241
y(It)h(is)g(possible)g(to)g(write)f(functions)h(in)g(a)h(restricted)f
(program-)-91 291 y(ming)h(language)g(that)f(guarantees)i(safe)g(e)o(x)
o(ecution.)23 b(F)o(or)13 b(certain)-91 341 y(kind)g(of)g(functions)g
(it)g(may)h(e)o(v)o(en)h(be)f(possible)f(to)g(statically)g(de-)-91
391 y(termine)k(safety)m(,)k(e)o(v)o(en)d(though)e(the)o(y)h(are)i
(written)d(in)h(an)h(unre-)-91 441 y(stricted)d(programming)g
(language.)31 b(Ho)o(we)o(v)o(er)n(,)19 b(our)c(interest)g(is)-91
491 y(in)f(an)h(approach)g(which)g(does)g(not)f(restrict)g(the)h(e)o
(xpressi)o(v)o(eness)-91 540 y(of)e(the)h(language)f(in)g(which)g
(these)h(functions)e(are)j(written.)22 b(Our)-91 590
y(e)o(xperiences)11 b(in)f(writing)e(two)h(router)g(applications)g
(that)g(in)n(v)o(olv)o(ed)-91 640 y(TCP)f(congestion)f(control)g(and)h
(splice)g(mechanisms)h([5])f([4])g(sho)o(w)-91 690 y(that)k(router)f
(application)g(code)i(can)g(be)g(of)f(signi\002cant)f(comple)o(x-)-91
740 y(ity)m(.)25 b(W)m(e)15 b(feel)g(that)f(writing)e(these)j
(applications)f(in)g(a)h(restricted)-91 789 y(language)8
b(would)f(ha)o(v)o(e)j(been)e(substantially)f(more)i(comple)o(x.)k(The)
-91 839 y(generality)c(of)h(possible)f(router)h(e)o(xtensions)g(makes)h
(it)e(dif)o(\002cult)g(to)-91 889 y(come)h(up)f(with)f(a)i(language)g
(that)e(captures)i(all)f(intended)f(forms)i(of)-91 939
y(computation,)h(while)g(guaranteeing)g(safety)m(.)17
b(The)12 b(ke)o(y)g(goal)f(then)-91 989 y(becomes)j(to)e(pro)o(vide)h
(safety)g(ef)o(\002ciently)f(when)h(router)f(applica-)-91
1038 y(tions)d(are)i(unrestricted.)-41 1089 y(Ef)o(\002cient)d(memory)i
(protection)d(can)i(be)h(pro)o(vided)d(by)i(utilizing)-91
1139 y(the)i(lo)o(w-le)o(v)o(el)g(hardware)h(protection)e(features)i
(of)f(the)g(processor)-91 1189 y(architecture)i(in)g(question.)22
b(Most)13 b(general-purpose)g(processors)-91 1238 y(pro)o(vide)e
(hardware)g(primiti)o(v)o(es)g(for)g(protection,)g(where)h(all)f(asso-)
-91 1288 y(ciated)j(checks)i(are)f(embedded)g(in)f(the)g
(micro-architecture)g(and)-91 1338 y(thus)i(do)h(not)g(incur)g(an)o(y)g
(e)o(xtra)h(o)o(v)o(erhead.)36 b(These)18 b(primiti)o(v)o(es,)-91
1388 y(when)c(e)o(xploited)g(at)g(the)g(lo)o(west)g(le)o(v)o(el,)i(can)
f(pro)o(vide)f(ef)o(\002cienc)o(y)-91 1438 y(as)g(well)g(as)g(hard)g
(protection)e(guarantees.)25 b(W)m(e)14 b(ha)o(v)o(e)h(been)f(able)-91
1488 y(to)h(implement)h(ef)o(\002cient)g(protection)e(domains)h(in)h(a)
g(router)f(OS)-91 1537 y(by)g(utilizing)e(the)i(se)o(gmentation)h
(hardware)g(of)f(the)g(X86)g(archi-)-91 1587 y(tecture)d([6)o(].)18
b(The)12 b(protection)e(subsystem)i(of)g(our)f(router)g(OS)h(e)o(x-)-91
1637 y(poses)e(the)h(se)o(gmentation)f(hardware)g(at)g(a)h(lo)o(w)f
(enough)f(le)o(v)o(el)i(that)-91 1687 y(router)g(applications)g(can)i
(use)g(it)e(easily)m(,)i(while)f(keeping)f(in)n(v)o(oca-)-91
1737 y(tion)h(o)o(v)o(erheads)i(close)g(to)f(that)g(of)g(a)h(protected)
f(function)e(call)j(in)-91 1786 y(hardware.)f(Similar)8
b(approaches)i(ha)o(v)o(e)f(been)h(tried)e(with)g(other)g(ar)o(-)-91
1836 y(chitectures)k(as)h(well)f([7)o(].)19 b(In)12 b(general,)h(by)f
(tuning)e(its)i(protection)-91 1886 y(subsystem)i(implementation)e(to)h
(the)h(processor)g(architecture,)h(a)-91 1936 y(router)e(OS)h
(implementation)f(can)h(pro)o(vide)f(ef)o(\002cient)h(as)h(well)f(as)
-91 1986 y(strong)i(memory)h(protection)f(without)f(compromising)h(e)o
(xpres-)-91 2035 y(si)o(v)o(eness)g(of)g(router)f(application)f(code.)
30 b(In)16 b(spirit,)g(this)f(design)-91 2085 y(principle)c(is)h
(similar)g(to)g(that)g(of)h(Exokernels)f([8)o(],)i(which)e(would)-91
2135 y(ar)o(gue)h(for)g(e)o(xposing)f(hardware)i(protection)d(features)
j(to)e(the)h(ap-)-91 2185 y(plication.)-91 2303 y Fr(3)50
b(P)o(erf)o(ormance)12 b(Pr)o(otection)-41 2413 y Fp(W)m(e)17
b(distinguish)d(between)j(\003o)o(ws)f(that)g(are)i(bound)d(to)i(some)
-91 2463 y(router)12 b(application,)h(called)h Fq(application)c
(\003ows)p Fp(,)k(and)g(\003o)o(ws)f(that)-91 2513 y(are)20
b(processed)g(by)g(the)f(router')n(s)f(standard)i(forwarding)d(code,)
-91 2563 y(called)d Fq(generic)f(\003ows)p Fp(.)23 b(W)m(e)14
b(call)g(generic)g(\003o)o(w)f(processing)g(and)-91 2613
y(control)j(plane)h(processing)g(as)i(the)e(router')n(s)f
Fq(cor)n(e)j(tasks)p Fp(.)35 b(The)-91 2662 y(goal)7
b(of)h(performance)h(protection)d(is)i(to)f(protect)h(the)f
(performance)987 42 y(seen)15 b(by)e(the)h(router')n(s)f(core)h(tasks)h
(in)e(the)h(presence)h(of)f(applica-)987 91 y(tion)e(\003o)o(ws.)22
b(Performance)14 b(protection)e(limits)g(the)h(scope)h(of)f(the)987
141 y(impact)j(that)f(dynamically)g(added)h(computation)f(has)h(on)f
(\003o)o(ws)987 191 y(going)f(through)h(the)g(router)h(:)23
b(application)15 b(\003o)o(ws)h(percei)o(v)o(e)h(the)987
241 y(end-to-end)11 b(ef)o(fects)i(of)f(placing)g(computation)f(in)h
(the)g(router)g(\(as)987 291 y(desired\),)e(while)e(the)h(presence)i
(of)e(this)g(computation)e(is)j(transpar)o(-)987 340
y(ent)g(to)g(generic)g(\003o)o(ws.)1037 390 y(Performance)h(protection)
e(has)i(two)e(implications)f(on)i(a)h(router)987 440
y(OS.)k(Firstly)m(,)g(core)g(router)f(tasks)g(must)h(be)g(bound)e(to)h
(an)h(appro-)987 490 y(priate)e Fq(cor)n(e)j(sc)o(heduling)d(conte)o
(xt)p Fp(.)24 b(This)14 b(makes)h(core)f(task)g(pro-)987
540 y(cessing)g(e)o(xplicit)e(in)h(the)h(scheduler)n(,)h(allo)o(wing)d
(it)g(to)h(deli)o(v)o(er)h(the)987 589 y(appropriate)f(performance)i
(guarantee.)26 b(Secondly)m(,)16 b(the)e(protec-)987
639 y(tion)8 b(polic)o(y)h(for)g(the)g(core)h(tasks)g(must)f(be)h
(chosen,)g(which)f(may)h(be)987 689 y(prioritization)e(or)k(sharing.)k
(Recent)c(studies)g(using)e(W)-5 b(AN)12 b(traf)o(\002c)987
739 y(traces)k(and)f(inter)o(-domain)f(routing)g(message)j(traces)f
(sho)o(w)f(that)987 789 y(traf)o(\002c)g(patterns)f(and)g(control)f
(plane)i(processing)f(load)g(in)g(inter)o(-)987 839 y(net)f(routers)f
(is)h(b)o(ursty)e(and)i(lar)o(gely)g(unpredictable.)20
b(Thus,)14 b(core)987 888 y(router)g(tasks)h(are)g(characterized)h(by)f
(high)e(short-term)h(process-)987 938 y(ing)c(bandwidth,)g(e)o(v)o(en)i
(if)f(the)g(long)f(term)h(processing)g(bandwidth)987
988 y(requirement)i(may)g(be)g(small.)22 b(Thus,)14 b(to)e(pro)o(vide)h
(true)f(isolation)987 1038 y(to)j(these)g(tasks,)i(prioritization)c(is)
i(the)g(appropriate)f(scheduling)987 1088 y(primiti)o(v)o(e.)34
b(Prioritization)15 b(ensures)k(that)e(in)g(a)h(programmable)987
1137 y(router)n(,)e(the)e(processing)g(demands)i(of)e(core)h(tasks)g
(will)f(be)h(han-)987 1187 y(dled)h(with)g(zero)i(latenc)o(y)f(in)f
(the)h(presence)h(of)e(router)h(applica-)987 1237 y(tions)1069
1222 y Fo(2)1084 1237 y Fp(.)28 b(F)o(or)15 b(generic)g(\003o)o(ws)h
(and)f(control)e(processing,)k(this)d(es-)987 1287 y(sentially)f
(simulates)i(a)g(router)f(in)g(which)h(there)g(were)g(no)f(appli-)987
1337 y(cations)e(running.)19 b(Moreo)o(v)o(er)n(,)c(if)d(application)g
(\003o)o(ws)g(are)i(sched-)987 1386 y(uled)h(among)g(themselv)o(es)h
(using)e(a)i(proportional)c(share)k(sched-)987 1436 y(uler)n(,)h(the)o
(y)e(will)f(adapt)h(gracefully)f(to)h(short-term)f(reduction)g(in)987
1486 y(a)o(v)o(ailable)f(resource)h(bandwidth)d(\(system)i(virtual)f
(time)h(will)e(not)987 1536 y(adv)o(ance)g(while)f(the)g(prioritized)e
(task)j(is)f(being)f(run\).)987 1652 y Fr(4)50 b(Event-Driven)9
b(Contr)o(ol)j(Flow)1037 1760 y Fp(An)f(important)e(characteristic)i
(of)g(man)o(y)h(useful)e(router)g(appli-)987 1810 y(cations)f(is)g(the)
g(use)h(of)f(functions)f(that)h(carry)h(state)f(across)h(in)n(v)o(oca-)
987 1860 y(tions.)i(Protocol)c(stacks)h(are)h(one)g(e)o(xample,)h
(where)f(e)o(v)o(ery)f(\224layer\224)987 1909 y(is)i(a)i(stateful)e
(function.)k(Similarly)m(,)d(an)o(y)g(router)f(application)f(that)987
1959 y(e)o(xploits)16 b(global)f(state)i(across)h(\003o)o(ws)f(must)f
(use)i(stateful)e(func-)987 2009 y(tions.)26 b(T)m(ypically)m(,)15
b(a)h(single)e(stateful)g(function)g(would)f(be)i(used)987
2059 y(by)d(man)o(y)i(\003o)o(ws.)21 b(Similarly)m(,)13
b(a)g(single)f(\003o)o(w)h(would)e(use)i(se)o(v)o(eral)987
2109 y(stateful)h(functions)g(that)g(act)h(like)f(a)i(\224processing)f
(pipeline\224)f(for)987 2159 y(the)f(\003o)o(w)m(.)42
b(This)13 b(model)f(localizes)i(state)f(in)f(the)h(functions,)f(and)987
2208 y(carries)g(a)f(\003o)o(w')n(s)g(in)n(v)o(ocations)e(from)i
(function)f(to)g(function.)j(This)987 2258 y(is)e(in)g(contrast)g(with)
f(the)h(\224thread\224)h(model,)g(where)g(it)e(is)h(e)o(xpected)987
2308 y(that)17 b(a)h(thread)f(e)o(x)o(ecuting)h(on)f(behalf)g(of)g(the)
g(\003o)o(w)g(has)h(access)987 2358 y(to)c(all)g(the)g(state.)25
b(If)15 b(dif)o(ferent)e(functions)g(are)i(in)f(dif)o(ferent)f(pro-)987
2408 y(tection)d(domains)i(\(because)g(some)h(functions)d(are)i(pri)o
(vile)o(ged,)f(or)987 2457 y(installed)h(by)h(mutually)e(untrusted)h
(authorities\),)g(the)h(thread)g(ap-)987 2507 y(proach)g(must)f(either)
g(resort)g(to)g(state)h(sharing)f(through)e(an)j(inter)o(-)987
2557 y(face)g(\(since)g(it)e(cannot)h(directly)f(read/write)h(it\),)g
(or)g(there)h(should)p 987 2584 394 2 v 1032 2611 a Fn(2)1047
2623 y Fm(This)7 b(of)g(course)g(depends)e(upon)h(the)h(scheduler)f
(getting)g(control,)h(which)g(may)987 2663 y(happen)f(on)i(a)g
(function)f(return)g(or)h(a)g(timer)n(.)j(See)d(section)g(4.)930
2787 y Fp(2)p eop
%%Page: 3 3
3 2 bop -91 42 a Fp(be)10 b(a)h(mechanism)h(for)d(a)i(thread)f(to)g
(\224cross\224)h(protection)e(domains.)-91 91 y(The)14
b(latter)f(essentially)g(takes)h(the)f(form)g(of)h(an)g(e)o(xplicit)e
(in)n(v)o(oca-)-91 141 y(tion,)d(as)i(proposed)f(in)f([9])h(through)f
(descriptor)g(passing.)-41 192 y(Thus,)18 b(we)e(ar)o(gue)h(that)f(the)
g(computation)f(and)h(composition)-91 241 y(model)10
b(for)g(router)g(applications)g(should)f(be)i(e)o(v)o(ent-based,)h(as)f
(op-)-91 291 y(posed)k(to)h(thread-based.)29 b(Besides)16
b(pro)o(viding)e(a)i(closer)g(match)-91 341 y(to)11 b(a)h(computation)e
(model)h(that)g(uses)h(stateful)f(shared)h(functions,)-91
391 y(a)f(ke)o(y)h(adv)o(antage)f(of)g(an)g(e)o(v)o(ent-based)h(model)f
(is)g(that)f(all)h(in)n(v)o(oca-)-91 441 y(tions)d(are)h
Fq(e)o(xplicit)g Fp(and)g Fq(async)o(hr)n(onous)p Fp(.)k(Since)c(in)n
(v)o(ocations)f(carry)-91 491 y(the)h(identity)e(of)i(the)g(resource)h
(principal)e(making)h(the)g(in)n(v)o(ocation,)-91 540
y(the)h(resource)h(principal)e(associated)i(with)e(a)i(piece)g(of)f
(work)f(is)h(al-)-91 590 y(ways)k(e)o(xplicitly)f(kno)o(wn)h
(throughout)d(the)k(system.)26 b(This)14 b(gi)o(v)o(es)-91
640 y(the)f(scheduler)g(complete)g(kno)o(wledge)f(of)h(pending)f(work)g
(in)g(the)-91 690 y(system)h(for)f(each)i(resource)f(principal,)f(and)h
(allo)o(ws)f(it)g(to)g(sched-)-91 740 y(ule)g(work)g(correctly)m(.)21
b(Further)n(,)14 b(by)e(being)g(asynchronous,)i(e)o(v)o(ery)-91
789 y(in)n(v)o(ocation)8 b(pro)o(vides)i(an)g(instant)e(when)i(the)g
(scheduler)g(gets)f(con-)-91 839 y(trol,)h(leading)g(to)g(tighter)g
(resource)h(control)f(than)g(that)h(allo)o(wed)f(in)-91
889 y(a)16 b(constant)f(time-slice)g(based)i(scheduler)n(.)29
b(Note)15 b(that)g(at)h(e)o(v)o(ery)-91 939 y(scheduling)d(instant,)j
(the)e(scheduler)h(can)g(look)f(for)g(in)n(v)o(ocations)-91
989 y(made)d(in)f(the)h(core)g(scheduling)e(conte)o(xt)i(\(section)f
(3\),)g(and)h(priori-)-91 1038 y(tize)f(them.)-91 1157
y Fr(5)50 b(Integrated)11 b(Resour)o(ce)i(Scheduling)-41
1267 y Fp(An)e(application)f(\003o)o(w)h(requires)g(CPU)h(c)o(ycles)g
(as)g(well)f(as)i(link)-91 1317 y(bandwidth)c(from)h(the)g(router)g(to)
g(meet)i(its)d(performance)j(require-)-91 1367 y(ment.)26
b(Ho)o(we)o(v)o(er)n(,)17 b(the)d(router)g(application)f(can)i(only)e
(specify)i(a)-91 1416 y(\003o)o(w')n(s)9 b(requirement)h(in)g(terms)g
(of)g(the)f(amount)h(of)g(work)f(required)-91 1466 y(from)k(each)h
(resource,)h(and)e(a)g(single,)h(global)e(deadline)h(\(or)f(rate\))-91
1516 y(requirement.)h(F)o(or)d(e)o(xample,)i(for)d(each)j(packet)e(of)g
(a)h(\003o)o(w)m(,)f(it)g(may)-91 1566 y(specify)k(the)g(CPU)f(c)o
(ycles)j(required,)e(the)g(packet)g(size)h(in)e(bytes,)-91
1616 y(and)i(a)g(single)g(deadline)f(for)h(the)g(packet)g(to)f(get)h
(serviced.)28 b(The)-91 1666 y(application)10 b(does)j(not)e(specify)h
(ho)o(w)g(deadlines)g(should)f(be)h(allo-)-91 1715 y(cated)j(in)f(the)h
(CPU)g(and)f(the)h(link.)25 b(This)15 b(task)g(is)f(best)h(done)g(by)
-91 1765 y(the)c(router)f(OS)i(that)e(should)g(\002gure)i(out)e(ho)o(w)
h(to)f(best)i(deli)o(v)o(er)e(the)-91 1815 y(o)o(v)o(erall)i(deadline)g
(by)g(allocating)g(a)h(per)o(-resource)g(deadline.)19
b(W)m(e)-91 1865 y(call)10 b(this)f(router)h(OS)g(function)f
Fq(inte)n(gr)o(ated)h(r)n(esour)n(ce)i(sc)o(heduling)p
Fp(.)-41 1915 y(W)m(e)d(generalize)h(inte)o(grated)f(resource)g
(scheduling)g(in)f(terms)i(of)-91 1965 y(deadlines,)j(since)g(rate)f
(requirements)h(can)g(be)f(mapped)h(to)f(dead-)-91 2015
y(lines.)20 b(Thus,)14 b(we)f(assume)h(that)e(a)i(\003o)o(w)e(asks)i
(for)e(a)h(deadline)g(\()p Fl(d)p Fp(\))-91 2065 y(for)c(each)i(of)e
(its)g(packets,)i(and)e(speci\002es)i(the)f(amount)f(of)g(work)g(re-)
-91 2115 y(quired)h(from)g(the)h(CPU)g(\()p Fl(W)324
2121 y Fk(C)352 2115 y Fp(\))f(and)h(the)g(link)e(\()p
Fl(W)637 2121 y Fk(L)662 2115 y Fp(\).)15 b(The)c(goal)g(of)-91
2164 y(inte)o(grated)f(resource)i(scheduling)e(is)g(to)h(split)e
Fl(d)i Fp(into)e Fl(d)722 2170 y Fk(C)750 2164 y Fp(,)j(a)f(dead-)-91
2214 y(line)f(for)g(the)g(CPU,)h(and)g Fl(d)297 2220
y Fk(L)321 2214 y Fp(,)h(a)f(deadline)f(for)g(the)h(link,)e(according)
-91 2264 y(to)k(an)g(optimization)f(criterion.)44 b(W)m(e)14
b(brie\003y)f(describe)h(a)g(dead-)-91 2314 y(line)e(allocation)f
(algorithm)g(here.)20 b(At)12 b(an)o(y)g(time,)i(there)e(are)h(a)g(set)
-91 2364 y(of)d(requests)g(admitted)g(into)f(the)h(system,)h
(corresponding)e(to)g(a)i(set)-91 2413 y(of)j(reserv)o(ations)g(in)g
(each)h(resource.)26 b(If)14 b(a)h(resource)g(has)g(capac-)-91
2463 y(ity)g Fl(C)j Fp(and)e(has)h(admitted)e(a)i(set)f(of)f(requests)h
(where)h(request)f Fl(i)-91 2513 y Fp(needs)d(work)f
Fl(W)153 2519 y Fk(i)181 2513 y Fp(and)h(has)g(been)h(allocated)f(a)g
(deadline)g Fl(d)784 2519 y Fk(i)797 2513 y Fp(,)i(then)-91
2563 y(the)9 b(residual)g(capacity)h(of)g(the)f(resource)h(is)g
Fl(R)h Fj(=)h Fl(C)d Fi(\000)716 2532 y Fh(P)760 2575
y Fk(i)774 2563 y Fl(W)813 2569 y Fk(i)827 2563 y Fl(=d)870
2569 y Fk(i)883 2563 y Fp(.)-91 2613 y(When)j(a)g(ne)o(w)g(request)f
(comes)i(for)e(this)g(resource,)i(asking)e(for)g(an)-91
2662 y(amount)d(of)f(work)h Fl(W)e Fp(,)j(its)e(minimal)h(service)h
(time)f(in)f(this)h(resource)987 42 y(is)j Fl(d)1048
48 y Fk(min)1124 42 y Fj(=)j Fl(W)q(=R)p Fp(.)h(If)c(the)g(sum)h(of)e
(the)h(quantity)f Fl(d)1747 48 y Fk(min)1821 42 y Fp(for)h(e)o(v)o(ery)
987 91 y(resource)j(is)f(less)g(than)g(or)f(equal)i(to)e(the)h(global)f
(deadline)h(of)g(the)987 141 y(task,)f(then)f(the)g(request)g(is)g
(admissible.)16 b(Ho)o(we)o(v)o(er)n(,)c(if)f(the)g(sum)h(is)987
191 y(less)d(than)g(the)g(global)f(deadline,)i(these)f(deadlines)g(can)
h(be)f Fq(r)n(elaxed)987 241 y Fp(such)j(that)g(each)h(resource)g(has)g
(some)g(spare)g(capacity)f(left)g(\(Note)987 291 y(that)d(allocating)f
(a)i(deadline)g(of)f Fl(d)1477 297 y Fk(min)1550 291
y Fp(in)g(a)h(resource)h(corresponds)987 340 y(to)d(using)g(up)g
Fq(all)g Fp(the)g(residual)h(capacity)g(of)f(that)g(resource\).)13
b(It)c(is)f(in)987 390 y(this)h(relaxation)g(step)h(that)g(the)g
(system-wide)g(optimization)e(crite-)987 440 y(rion)13
b(comes)h(in.)23 b(F)o(or)14 b(instance,)h(if)e(the)h(optimization)d
(goal)j(is)f(to)987 490 y(keep)d(all)g(resources)h(equally)e(utilized,)
g(so)h(that)g(the)g(system)g(keeps)987 540 y(spare)f(capacity)g
(uniformly)e(a)o(v)o(ailable)h(across)i(all)e(resources,)i(then)987
589 y(the)e(deadline)h(allocated)f(in)h(the)f(hea)o(vily)g(utilized)g
(resource)h(would)987 639 y(be)f(relax)o(ed)h(more.)k(In)8
b(general,)h(the)f(relaxation)g(algorithm)e(tries)i(to)987
689 y(iterati)o(v)o(ely)f(select)i(a)f(constant)g Fl(Y)17
b Fp(such)9 b(that)e(the)h(residual)g(capacity)987 739
y(of)g(resource)h Fl(i)g Fp(is)f Fl(\014)1261 745 y Fk(i)1275
739 y Fl(Y)i Fp(,)f(where)g Fl(\014)1461 745 y Fk(i)1484
739 y Fp(encapsulates)g(the)f(optimization)987 789 y(criterion.)15
b(If)c(uniform)f(spare)j(capacity)e(is)g(desired,)h Fl(\014)1791
795 y Fk(i)1817 789 y Fp(would)e(be)987 839 y Fj(1)i
Fp(for)f(all)h Fl(i)p Fp(,)h(otherwise)f(it)f(would)g(re\003ect)h(the)g
(ratio)g(in)f(which)h(the)987 888 y(resources)f(are)h(to)d(be)i(kept)f
(utilized.)i(Such)f(a)g(mechanism)h(should)987 938 y(be)h(an)g(inte)o
(gral)g(part)f(of)h(a)g(router)g(OS)g(in)f(order)h(to)f(achie)o(v)o(e)i
(tight)987 988 y(admission)c(control)f(for)g(application)g(\003o)o(ws.)
987 1102 y Fr(6)50 b(Binding)11 b(Resour)o(ces)i(to)f(Flows)1037
1208 y Fp(T)m(ypically)j(router)g(resources)i(would)e(be)h(shared)h(by)
e(a)i(lar)o(ge)987 1258 y(number)g(of)g(application)f(\003o)o(ws,)k
(which)d(calls)g(for)g(appropriate)987 1307 y(resource)g(arbitration.)
29 b(Moreo)o(v)o(er)n(,)19 b(man)o(y)e(router)f(applications)987
1357 y(would)e(typically)h(operate)h(upon)f(a)h Fq(set)g
Fp(of)g(\003o)o(ws)g(belonging)e(to)987 1407 y(a)g(type)g(of)f(network)
g(application,)g(as)i(opposed)e(to)g(operating)g(on)987
1457 y(single)i(\003o)o(ws.)29 b(In)15 b(such)h(cases,)j(the)c(router)g
(application)f(would)987 1507 y(typically)h(ha)o(v)o(e)i(an)g(aggre)o
(gate,)h(as)f(opposed)f(to)g(per)o(-\003o)o(w)m(,)i(per)o(-)987
1556 y(formance)d(requirement.)26 b(This)15 b(makes)g(the)g(task)f(of)h
(accurately)987 1606 y(binding)f(router)i(resources)h(to)e(\003o)o(ws)h
(an)h(important)e(one.)31 b(The)987 1656 y Fq(e)o(xpr)n(essiveness)18
b Fp(of)d(the)g(resource)h(reserv)o(ation)f(interface)g(deter)o(-)987
1706 y(mines)i(ho)o(w)g(accurately)h(router)f(applications)f(will)g(be)
h(able)h(to)987 1756 y(e)o(xpress)g(their)f(resource)h(requirements.)34
b(An)17 b(in\003e)o(xible)f(inter)o(-)987 1806 y(face)i(may)f(lead)h
(to)e(coarse)i(speci\002cations,)h(leading)d(to)h(under)o(-)987
1855 y(utilization)9 b(of)i(router)g(resources.)17 b(Like)o(wise,)12
b(an)g(o)o(v)o(erly)f(\003e)o(xible)987 1905 y(interface)j(may)h(blo)o
(w)e(up)h(the)g(scheduling)f(state)i(in)f(the)g(system,)987
1955 y(while)c(being)f(a)i(b)o(urden)f(to)f(a)i(router)f(application)f
(writer)n(.)1037 2005 y(W)m(e)14 b(belie)o(v)o(e)h(that)e(two)h(ke)o(y)
g(principles)f(suf)o(\002ce)i(to)e(pro)o(vide)h(a)987
2055 y(simple)c(and)g(\003e)o(xible)h(interface.)1018
2133 y(1.)21 b(Decouple)h(e)o(x)o(ecution)g(conte)o(xts)g(from)g
(scheduling)f(con-)1070 2183 y(te)o(xts:)13 b(This)d(means)i(that)e
(the)g(interface)h(should)e(clearly)i(dis-)1070 2233
y(tinguish)j(between)i(a)g(thread)f(of)h(control)e(associated)i(with)
1070 2283 y(a)g(\003o)o(w)m(,)h(and)f(the)f(resource)h(principal)e
(associated)i(with)f(it.)1070 2333 y(Thus,)22 b(an)d(in)n(v)o(ocation)f
(made)j(in)d(the)h(conte)o(xt)g(of)g(a)h(\003o)o(w)1070
2382 y(should)9 b(ha)o(v)o(e)i(two)f(components)g(:)i(the)e(identity)f
(of)h(the)g(\003o)o(w)m(,)1070 2432 y(and)j(the)g(identity)e(of)i(the)g
(resource)h(principal,)f(which)g(may)1070 2482 y(be)e(dif)o(ferent)e
(in)g(general.)1018 2563 y(2.)21 b(Allo)o(w)9 b(absolute)g(as)i(well)f
(as)h Fq(symbolic)e Fp(speci\002cation)h(of)g(re-)1070
2613 y(source)j(reserv)o(ations)g(:)18 b(A)13 b(symbolic)f
(speci\002cation)h(means)1070 2662 y(a)e(reference)g(to)f(another)g
(principal')n(s)f(resource)i(reserv)o(ation.)930 2787
y(3)p eop
%%Page: 4 4
4 3 bop -8 42 a Fp(Thus,)15 b(a)g(\003o)o(w)f Fl(f)240
48 y Fg(1)273 42 y Fp(may)h(specify)f(that)f(it)g(requires)h(an)h(o)o
(v)o(er)o(-)-8 91 y(all)c(rate)g(of)g Fj(100)f Fp(packets/sec)i(with)e
(each)i(packet)f(ha)o(ving)g Fj(64)-8 141 y Fp(bytes)e(\(independent)f
(link)f(reserv)o(ation)i(of)g Fj(6400)f Fp(bytes/sec\),)-8
191 y(b)o(ut)h(shares)h(the)g(CPU)f(with)g(\003o)o(w)g
Fl(f)504 197 y Fg(2)533 191 y Fp(\(symbolic)g(CPU)h(reser)o(-)-8
241 y(v)o(ation\).)-41 331 y(These)i(principles)d(ha)o(v)o(e)j(two)e
(important)f(implications.)14 b(First,)-91 380 y(binding)c(a)i(\003o)o
(w)g(to)f(a)i(resource)f(principal)f(no)o(w)g(becomes)j(an)e(e)o(x-)-91
430 y(plicit)e(operation.)16 b(Second,)d(resources)f(can)h(be)f(shared)
g(on)f(a)h(per)o(-)-91 480 y(resource)k(basis,)h(as)f(opposed)e(to)h
(an)h(all-or)o(-none)e(basis)h(\(where)-91 530 y(either)e(both)g(CPU)h
(and)g(link)f(resources)i(are)f(shared,)i(or)e(none)f(is)-91
580 y(shared\).)30 b(An)16 b(e)o(xample)h(application)e(where)h(this)f
(is)h(needed)g(is)-91 629 y(a)d(multicast)g(application)f(that)g
(transcodes)i(incoming)e(data)h(on)g(a)-91 679 y(link)e(and)i(distrib)o
(utes)e(it)h(o)o(v)o(er)h(three)g(output)e(links.)19
b(Each)14 b(output)-91 729 y(\003o)o(w)i(requires)g(its)f(o)o(wn)g
(conte)o(xt)h(in)g(its)f(output)f(link,)j(and)f(may)-91
779 y(e)o(v)o(en)i(ha)o(v)o(e)h(distinct)c(link)i(rate)g(requirements)h
(due)f(to)g(recei)o(v)o(er)-91 829 y(heterogeneity)m(.)i(Ho)o(we)o(v)o
(er)n(,)14 b(the)f(transcoding)e(operation)g(is)h(done)-91
878 y(once)g(on)g(a)h(single)e(copy)h(of)g(e)o(v)o(ery)g(packet,)h(and)
f(hence)h(the)f(CPU)-91 928 y(reserv)o(ation)h(should)f(be)i(shared.)24
b(This)14 b(application)e(can)j(be)f(im-)-91 978 y(plemented)d(using)g
(three)g(\003o)o(ws)h(that)e(share)i(their)f(CPU)g(resource.)-91
1028 y(One)j(of)g(the)h(\003o)o(ws)f(can)h(make)g(the)f(absolute)g(CPU)
g(reserv)o(ation,)-91 1078 y(and)c(the)g(other)g(two)f(can)i(refer)f
(to)g(this)f(reserv)o(ation)h(symbolically)m(.)-91 1128
y(A)i(cursory)g(look)f(at)h(the)g(e)o(xample)h(says)g(that)e(the)h
(same)i(could)d(be)-91 1177 y(done)f(by)g(declaring)g(one)h(incoming)f
(\003o)o(w)g(that)g(only)f(reserv)o(es)j(the)-91 1227
y(CPU,)i(and)h(three)f(outgoing)e(\003o)o(ws)i(reserving)g(only)f(the)h
(respec-)-91 1277 y(ti)o(v)o(e)h(link)g(rates.)29 b(Ho)o(we)o(v)o(er)n
(,)19 b(this)14 b(would)g(break)i(the)g(inte)o(grated)-91
1327 y(CPU)c(and)h(link)f(scheduling)f(requirement)i(described)f(in)h
(section)-91 1377 y(5.)-91 1500 y Fr(7)50 b Ff(Srishti)12
b Fr(and)f(Aggr)o(egate)h(TCP)-41 1614 y Fp(The)e(ideas)h(presented)f
(abo)o(v)o(e)h(ha)o(v)o(e)g(been)f(incorporated)f(in)g
Fq(Sr)o(-)-91 1664 y(ishti)p Fp(,)e(a)i(substrate)f(for)g(writing)e
(applications)h(in)h(a)h(router)e(that)h(uses)-91 1714
y(the)14 b(X86)g(architecture)h(for)f(application)f(\003o)o(w)h
(processing.)25 b(Us-)-91 1764 y(ing)10 b(the)h(abo)o(v)o(e)h(design)f
(principles,)g(Srishti)e(allo)o(ws)i(composition)-91
1813 y(of)h(router)f(applications)g(through)f(stateful)h(functions)g
(and)h(\003o)o(ws.)-91 1863 y(The)f(functions)f(are)i(untrusted,)e
(preemptible)g(functions)f(that)i(can)-91 1913 y(be)f(ef)o(\002ciently)
g(co-located)g(with)f(core)i(router)f(functions)e(in)i(a)h(sin-)-91
1963 y(gle)f(address)i(space.)k(Flo)o(ws)10 b(are)i(e)o(x)o(ecution)f
(conte)o(xts,)g(bound)f(e)o(x-)-91 2013 y(plicitly)g(to)i(resource)h
(principals)e(using)g(Srishti')n(s)g(API.)i(All)e(con-)-91
2063 y(trol)e(transfer)h(is)h(e)o(xplicit)e(and)i(asynchronous,)f(and)g
(functions)f(are)-91 2112 y(called)h(through)d(references.)15
b(These)c(references)g(are)f(obtained)f(by)-91 2162 y(a)14
b Fq(naming)e Fp(service)i(that)f(acts)h(like)f(a)h(dynamic)f(symbol)g
(table)h(of)-91 2212 y(loaded)c(functions.)-41 2264 y(W)m(e)f
(brie\003y)g(share)h(our)e(e)o(xperience)j(in)d(writing)f(a)j(router)e
(appli-)-91 2314 y(cation)13 b(o)o(v)o(er)i(Srishti)d(to)i(perform)g
(aggre)o(gated)g(TCP)g(congestion)-91 2364 y(control.)h(TCP)d(does)g
(not)f(pro)o(vide)f(mechanisms)j(to)e(allo)o(w)g(a)h(ne)o(w)-91
2413 y(connection)e(to)h(reuse)g(congestion)g(estimates)g(gathered)g
(by)g(other)-91 2463 y(connections)d(that)g(ha)o(v)o(e)i(used)e(the)h
(same)h(path.)i(This)d(forces)g(a)g(ne)o(w)-91 2513 y(TCP)f(connection)
f(to)g(always)g(start)h(from)f(a)i(conserv)o(ati)o(v)o(e)f(estimate)-91
2563 y(of)j(a)o(v)o(ailable)i(bandwidth,)e(causing)h(short)f
(connections)g(to)h(ne)o(v)o(er)-91 2613 y(reach)k(the)e(correct)h(v)o
(alue)g(of)g(the)f(a)o(v)o(ailable)h(bandwidth.)25 b(Short)-91
2663 y(HTTP)10 b(connections)f(can)h(perform)f(at)h(signi\002cantly)e
(sub-optimal)987 42 y(performance)13 b(le)o(v)o(els)g(due)g(to)f(this,)
h(if)f(there)h(is)f(a)h(lot)f(of)g(opportu-)987 91 y(nity)e(for)i
(temporal)f(and)h(spatial)f(congestion)g(state)h(reuse.)18
b(A)-5 b(TCP)987 141 y(is)9 b(a)h(router)e(mechanism)j(that)d(allo)o
(ws)h(congestion)f(state)h(reuse)h(be-)987 191 y(tween)15
b(TCP)h(connections)e(that)h(are)h(e)o(xpected)g(to)f(share)h(bottle-)
987 241 y(neck)g(links)f(in)g(the)g(network)1429 226
y Fo(3)1444 241 y Fp(,)j(without)13 b(changing)i(end-system)987
291 y(TCP)h(implementations.)29 b(The)17 b(details)e(on)h(ho)o(w)f(A)-5
b(TCP)17 b(imple-)987 340 y(ments)g(its)e(functionality)f(and)i(its)g
(e)o(v)o(aluation)f(on)h(a)h(real-world)987 390 y(HTTP)11
b(trace)g(are)g(a)o(v)o(ailable)g(in)e([4].)1037 442
y(While)f(composing)g(A)-5 b(TCP)9 b(using)e(Srishti')n(s)g(API,)i(the)
f(most)g(in-)987 491 y(teresting)h(choice)i(is)f(in)g(ho)o(w)f
(resources)j(are)f(to)e(be)i(allocated,)f(and)987 541
y(the)e Fq(scope)h Fp(of)g(congestion)e(state)i(sharing.)j(The)d
(scenario)g(we)g(en)n(vi-)987 591 y(sion)e(is)h(that)f(A)-5
b(TCP)9 b(is)f(deployed)f(in)g(a)i(router)e(that)h(serv)o(es)h(a)f
(certain)987 641 y(number)k(of)f(b)o(usy)h(TCP)g(serv)o(ers,)h(say)f
(from)g Fl(N)17 b Fp(dif)o(ferent)10 b(or)o(gani-)987
691 y(zations.)20 b(In)12 b(this)g(case,)j(the)d(scope)h(of)g
(congestion)e(state)i(sharing)987 741 y(is)e(all)h(TCP)g(\003o)o(ws)g
(originating)d(at)i(these)i Fl(N)j Fp(serv)o(ers,)e(and)e(the)f(re-)987
790 y(source)e(allocation)e(goal)h(is)g(to)f(be)i(max-min)f(fair)g(to)g
(these)g Fl(N)14 b Fp(or)o(ga-)987 840 y(nizations.)f(Thus)e(the)f(A)-5
b(TCP)12 b(implementation)d(uses)i Fl(N)16 b Fp(resource)987
890 y(principals,)9 b(to)h(which)g(incoming)f(TCP)i(packets)f(are)h
(bound.)h(One)987 940 y(can)17 b(choose)f(to)f(implement)h(A)-5
b(TCP)17 b(as)f(a)h(monolithic)d(function)987 990 y(that)c(holds)g(per)
o(-\003o)o(w)h(state)g(;)g(or)g(as)h Fl(K)i Fp(modules)d(where)h(there)
f(are)987 1039 y Fl(K)i Fp(congestion)c(sharing)g(groups,)h(each)h(of)e
(which)h(holds)f(per)o(-\003o)o(w)987 1089 y(state)15
b(only)f(for)h(the)g(\003o)o(ws)g(in)f(that)h(group.)26
b(W)m(e)15 b(ha)o(v)o(e)h(currently)987 1139 y(implemented)10
b(A)-5 b(TCP)12 b(as)f(a)g(monolithic)e(function.)j(Only)e(one)h(e)o
(x-)987 1189 y(ecution)f(conte)o(xt)g(is)g(used,)h(since)f(all)g
(session)h(state)f(is)g(centralized)987 1239 y(in)g(one)g(function.)i
(Since)f(there)g(are)g(no)f(blocking)f(calls)h(in)g(the)g(ap-)987
1288 y(plication,)e(there)h(is)g(no)f(need)h(for)g(multiple)e(e)o(x)o
(ecution)i(conte)o(xts)g(to)987 1338 y(hide)h(blocking)e(latenc)o(y)m
(.)987 1459 y Fr(8)50 b(Evaluation)1037 1572 y Fp(W)m(e)8
b(ha)o(v)o(e)h(implemented)f(Srishti)e(on)i(a)g Fj(400)g
Fp(MHz)g(Pentium)f(and)987 1622 y(tested)k(it)f(as)i(a)g(router)e(with)
g(Intel)g(eepro100)h(network)f(interfaces.)987 1672 y(While)f(the)g
(implementation)f(uses)i(a)f(Linux)g(skeleton,)g(it)f(depends)987
1722 y(more)h(directly)e(on)h(the)g(X86)g(architecture)h(rather)f(than)
g(on)g(Linux)1945 1707 y Fo(4)1961 1722 y Fp(.)987 1771
y(In)13 b(this)g(section,)h(we)g(pro)o(vide)f(some)h(microbenchmarks)g
(on)g(the)987 1821 y(system)d(that)f(gi)o(v)o(e)g(some)i(insight)c
(into)h(the)i(design)f(decisions)g(laid)987 1871 y(out)f(earlier)n(.)
1037 1923 y(W)m(e)17 b(be)o(gin)f(with)f(some)i(microbenchmarks)g
(related)f(to)g(pro-)987 1972 y(tection.)23 b(A)14 b(null)e(router)h
(application)g(function)f(co-located)i(in)f(a)987 2022
y(lesser)d(pri)o(vile)o(ged)e(se)o(gment)i(of)f(the)h(core)g(router)e
(kernel)h(incurs)g(an)987 2072 y(o)o(v)o(erhead)h(of)e
Fj(325)g Fp(c)o(ycles)i(for)e(a)h(call)g(and)g(return.)i(When)e(the)g
(func-)987 2122 y(tion)14 b(also)h(makes)h(a)g(protected)f(function)f
(call)i(to)e(a)i(core)g(router)987 2172 y(function)f(before)h
(returning,)g(the)g(o)o(v)o(erhead)i(becomes)f Fj(814)f
Fp(c)o(y-)987 2221 y(cles.)e(This)c(is)h(more)f(than)g(twice)h(of)f
(the)g(single)g(call,)h(due)f(to)g(addi-)987 2271 y(tional)f(o)o(v)o
(erheads)j(of)e(sa)o(ving)h(all)f(general-purpose)g(re)o(gisters.)15
b(T)m(o)987 2321 y(see)f(the)f(adv)o(antages)g(of)g(co-location,)f(we)i
(ran)f(a)g(ping-pong)e(test)987 2371 y(between)i(two)e(null)h
(functions)f(in)h(dif)o(ferent)f(address)i(spaces,)i(in-)987
2421 y(curring)10 b(on)g(o)o(v)o(erhead)i(of)f Fj(1360)f
Fp(c)o(ycles)i(per)f(call.)16 b(This)10 b(o)o(v)o(erhead)987
2471 y(would)f(be)h(higher)f(in)h(general,)h(due)f(to)g(the)g(cost)g
(of)g(re-populating)p 987 2504 394 2 v 1032 2531 a Fn(3)1047
2543 y Fm(A)l(TCP)j(approximates)c(this)j(by)f(grouping)f(together)h
(\003o)o(ws)h(destined)e(to)i(the)987 2583 y(same)7 b(subnet.)1032
2611 y Fn(4)1047 2623 y Fm(Code)13 b(for)h(Srishti)i(and)d(A)l(TCP)j
(is)e(a)o(v)o(ailable)g(via)g(anonymous)d(FTP)16 b(from)987
2662 y(ftp.sequoia.cs.sunysb)n(.edu/p)o(ub/srishti.)930
2787 y Fp(4)p eop
%%Page: 5 5
5 4 bop -91 42 a Fp(\003ushed)10 b(TLB)h(entries)f(with)f(e)o(v)o(ery)i
(address)g(space)g(switch.)-41 95 y(The)17 b(ne)o(xt)g(measurement)h
(sho)o(ws)f(the)g(role)f(of)h(e)o(v)o(ent-dri)o(v)o(en)-91
145 y(control)c(\003o)o(w)h(in)g(pro)o(viding)e(\002ne-grained)i
(prioritization)d(to)i(the)-91 195 y(router')n(s)d(generic)i(\003o)o
(ws.)18 b(W)m(e)12 b(modi\002ed)f(the)g(eepro100)h(dri)o(v)o(er)f(to)
-91 244 y(use)f(polling)d(instead)j(of)f(interrupts,)f(as)j(would)d(be)
i(true)f(of)g(a)i(high-)-91 294 y(performance)i(implementation)e(on)h
(a)h(PC-like)e(platform.)18 b(Thus,)-91 344 y(interrupt)11
b(conte)o(xt)i(is)h(not)e(used)i(to)f(process)h(generic)f(\003o)o(ws.)
23 b(W)m(e)-91 394 y(tried)14 b(three)h(ways)g(in)g(which)f(the)h
(scheduler)g(could)g(get)g(control)-91 444 y(in)c(order)g(to)g(serv)o
(e)h(generic)g(\003o)o(ws.)17 b(In)11 b(the)h(\002rst)f(case,)i(the)f
(sched-)-91 494 y(uler)f(only)f(gets)i(control)e(at)i(system)g(timer)f
(interrupts)f(\()p Fj(10)h Fp(msec\).)-91 543 y(This)j(simulates)g(a)h
(time-slice)f(based)h(scheduler)n(,)h(and)e(a)h(system)-91
593 y(that)i(uses)h(synchronous)e(function)h(in)n(v)o(ocations.)34
b(The)18 b(second)-91 643 y(case)e(gi)o(v)o(es)f(control)e(to)i(the)f
(scheduler)h(only)f(when)h(application)-91 693 y(functions)9
b(return,)i(simulating)e(asynchronous)i(control)e(\003o)o(w)m(,)j(b)o
(ut)-91 743 y(with)f(no)i(timers.)20 b(In)12 b(the)h(last)f(case,)k
(the)c(scheduler)h(gets)g(control)-91 792 y(e)o(v)o(ery)h(time)g(a)h
(function)d(returns)h(or)h(the)g(timer)f(\002res,)j(represent-)-91
842 y(ing)f(the)g(\002nest)h(scheduling)e(granularity)m(.)28
b(The)17 b(system)f(contin-)-91 892 y(uously)e(runs)i(in)n(v)o
(ocations)e(whose)i(running)e(time)i(is)f(uniformly)-91
942 y(distrib)o(uted)8 b(from)h Fj(3)h Fp(msec)h(to)f
Fj(21)f Fp(msec)i(in)f(increments)g(of)g Fj(3)p Fp(,)g(cen-)-91
992 y(tered)g(roughly)f(around)g Fj(10)h Fp(msec.)15
b(The)c(router)e(is)h(fed)g(with)g(a)g(uni-)-91 1041
y(form)i(stream)g(of)g(packets)g(with)f(v)o(arying)g(inter)o(-packet)g
(gap.)19 b(The)-91 1091 y(metric)12 b(that)f(re\003ects)i(the)e
(\224disturbance\224)h(introduced)f(in)g(the)h(for)o(-)-91
1141 y(warding)g(path)i(of)f(generic)h(\003o)o(ws)g(is)f(the)h
(standard)f(de)o(viation)g(of)-91 1191 y(the)g(inter)o(-arri)o(v)o(al)f
(time)i(at)f(the)h(recei)o(v)o(er)n(.)24 b(As)14 b(sho)o(wn)f(in)g
(table)g(1,)-91 1241 y(the)f(e)o(v)o(ent-dri)o(v)o(en)g(approach)h
(leads)g(to)f(lesser)h(perturbation)e(than)-91 1291 y(a)e(constant)f
(time-slice)g(based)h(scheduler)n(,)h(and)f(the)f(scheduler)h(that)-91
1340 y(combines)h(e)o(v)o(ents)h(with)e(time)h(slices)h(performs)f(the)
g(best.)p -87 1444 977 2 v -87 1446 V -88 1495 2 50 v
-79 1495 V -54 1480 a Fe(Sender)i(Inter)p 195 1495 V
80 w(T)o(imer)p 423 1495 V 89 w(Function)p 632 1495 V
53 w(T)o(imer)e(OR)p 880 1495 V 889 1495 V -88 1545 V
-79 1545 V -21 1530 a(Pkt)g(Gap)p 195 1545 V 94 w(Interrupt)p
423 1545 V 78 w(Retur)o(n)p 632 1545 V 67 w(Fn.)k(Retur)o(n)p
880 1545 V 889 1545 V -87 1547 977 2 v -87 1549 V -88
1598 2 50 v -79 1598 V 32 1583 a Fp(1.0)p 195 1598 V
179 w(1.746)p 423 1598 V 125 w(1.821)p 632 1598 V 134
w(1.573)p 880 1598 V 889 1598 V -87 1600 977 2 v -88
1650 2 50 v -79 1650 V 32 1635 a(4.0)p 195 1650 V 179
w(4.383)p 423 1650 V 125 w(3.783)p 632 1650 V 134 w(3.069)p
880 1650 V 889 1650 V -87 1651 977 2 v -88 1701 2 50
v -79 1701 V 32 1686 a(7.0)p 195 1701 V 179 w(4.312)p
423 1701 V 125 w(3.832)p 632 1701 V 134 w(3.082)p 880
1701 V 889 1701 V -87 1703 977 2 v -88 1753 2 50 v -79
1753 V 22 1738 a(12.0)p 195 1753 V 168 w(3.881)p 423
1753 V 125 w(3.658)p 632 1753 V 134 w(2.844)p 880 1753
V 889 1753 V -87 1754 977 2 v -87 1756 V -41 1831 a Fd(T)m(able)k(1.)g
Fc(Standard)e(De)o(viation)e(\(in)h(msec\))i(of)e(recei)o(v)o(ed)-41
1881 y(inter)o(-packet)7 b(gap)h(for)g(three)h(ways)f(in)g(which)g(the)
g(scheduler)-41 1931 y(can)j(get)f(control)f(from)h(router)f
(applications.)-41 2115 y Fp(The)16 b(\002nal)f(measurement)i(sho)o(ws)
e(the)g(impact)h(of)f(inte)o(grated)-91 2164 y(resource)c(scheduling)f
(in)h(pro)o(viding)d(tighter)i(admission)g(control.)-91
2214 y(W)m(e)17 b(assume)h(two)e(resources,)k(each)e(with)e(a)h
(capacity)h(of)e Fj(1000)-91 2264 y Fp(units/sec.)32
b(Flo)o(ws)16 b(request)g(these)i(resources)f(by)f(asking)h(for)f(a)-91
2314 y(rate)f(of)g Fj(1)g Fp(packet)h(per)f Fj(100)g
Fp(msec,)j(requesting)c Fj(1)h Fp(unit)f(of)h(work)-91
2364 y(from)g(one)g(resource)h(and)g Fj(10)f Fp(units)f(from)h(the)g
(other)n(.)28 b(Figure)14 b(1)-91 2413 y(sho)o(ws)j(ho)o(w)h(resource)g
(usage)g(for)g(each)h(resource)f(changes)h(as)-91 2463
y(\003o)o(ws)14 b(are)h(added,)h(for)e(the)g(case)i(when)e(deadline)g
(slack)h(is)f(allo-)-91 2513 y(cated)f(in)f(a)i(\002x)o(ed)f(manner)g
(\(algorithm)f Fj(1)p Fp(\),)h(and)g(when)g(it)f(is)g(allo-)-91
2563 y(cated)e(in)g(a)g(load-dependent)f(manner)h(\(algorithm)f
Fj(2)p Fp(\).)j(Algorithm)-91 2613 y Fj(1)g Fp(allcoates)i(half)e(the)h
(global)e(deadline)i(to)f(each)i(resource,)g(lead-)-91
2662 y(ing)7 b(to)h(ske)o(wed)g(utilization)d(and)k(stops)e(admission)h
(control)f(sooner)1029 0 y
 14208860 11793352 789381 789381 37890293 31706808 startTexFig
 1029 0 a
%%BeginDocument: capacity.eps
%!PS-Adobe-2.0 EPSF-1.2
%%BoundingBox: 12 12 576 482
%%Creator: xmgr v4.00 (Alpha test #0)
%%Title: res.eps
%%EndComments
/m {moveto} bind def
/l {lineto} bind def
/RJ {
 stringwidth neg exch neg exch
 rmoveto
} bind def
/CS {
 stringwidth
 2 div neg exch 2 div neg exch
 rmoveto
} bind def
0.25 0.25 scale
1 setlinecap

mark             
/ISOLatin1Encoding 
  8#000 1 8#054 {StandardEncoding exch get} for 
  /minus 
  8#056 1 8#217 {StandardEncoding exch get} for 
  /dotlessi 
  8#301 1 8#317 {StandardEncoding exch get} for 
  /space /exclamdown /cent /sterling /currency /yen /brokenbar /section 
  /dieresis /copyright /ordfeminine /guillemotleft /logicalnot /hyphen 
  /registered /macron /degree /plusminus /twosuperior /threesuperior /acute 
  /mu /paragraph /periodcentered /cedilla /onesuperior /ordmasculine 
  /guillemotright /onequarter /onehalf /threequarters /questiondown /Agrave 
  /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla /Egrave /Eacute 
  /Ecircumflex /Edieresis /Igrave /Iacute /Icircumflex /Idieresis /Eth /Ntilde 
  /Ograve /Oacute /Ocircumflex /Otilde /Odieresis /multiply /Oslash /Ugrave 
  /Uacute /Ucircumflex /Udieresis /Yacute /Thorn /germandbls /agrave /aacute 
  /acircumflex /atilde /adieresis /aring /ae /ccedilla /egrave /eacute 
  /ecircumflex /edieresis /igrave /iacute /icircumflex /idieresis /eth /ntilde 
  /ograve /oacute /ocircumflex /otilde /odieresis /divide /oslash /ugrave 
  /uacute /ucircumflex /udieresis /yacute /thorn /ydieresis 
  /ISOLatin1Encoding where not {256 array astore def} if 
 cleartomark 

/makeISOEncoded 
{ findfont /curfont exch def 
  /newfont curfont maxlength dict def  
  /ISOLatin1 (-ISOLatin1) def
  /curfontname curfont /FontName get dup length string cvs def 
  /newfontname curfontname length ISOLatin1 length add string 
     dup 0                  curfontname putinterval 
     dup curfontname length ISOLatin1   putinterval 
  def 
  curfont   
  { exch dup /FID ne  
    { dup /Encoding eq  
      { exch pop ISOLatin1Encoding exch }  
      if  
      dup /FontName eq  
      { exch pop newfontname exch }  
      if  
      exch newfont 3 1 roll put  
    }  
    { pop pop }  
    ifelse  
  }  
  forall 
  newfontname newfont definefont 
} def 

/Times-Roman makeISOEncoded pop 
/Times-Bold makeISOEncoded pop 
/Times-Italic makeISOEncoded pop 
/Times-BoldItalic makeISOEncoded pop 
/Helvetica makeISOEncoded pop 
/Helvetica-Bold makeISOEncoded pop 
/Helvetica-Oblique makeISOEncoded pop 
/Helvetica-BoldOblique makeISOEncoded pop 
0.000000 0.000000 0.000000 setrgbcolor
1 setlinewidth
/Times-Italic-ISOLatin1 findfont 60 scalefont setfont
[] 0 setdash
409 351 m
409 1759 l
2090 1759 l
2090 351 l
409 351 l
stroke
[] 0 setdash
409 351 m
409 361 l
596 351 m
596 361 l
783 351 m
783 361 l
969 351 m
969 361 l
1156 351 m
1156 361 l
1343 351 m
1343 361 l
1530 351 m
1530 361 l
1716 351 m
1716 361 l
1903 351 m
1903 361 l
2090 351 m
2090 361 l
409 1759 m
409 1749 l
596 1759 m
596 1749 l
783 1759 m
783 1749 l
969 1759 m
969 1749 l
1156 1759 m
1156 1749 l
1343 1759 m
1343 1749 l
1530 1759 m
1530 1749 l
1716 1759 m
1716 1749 l
1903 1759 m
1903 1749 l
2090 1759 m
2090 1749 l
stroke
409 351 m
409 371 l
783 351 m
783 371 l
1156 351 m
1156 371 l
1530 351 m
1530 371 l
1903 351 m
1903 371 l
409 1759 m
409 1739 l
783 1759 m
783 1739 l
1156 1759 m
1156 1739 l
1530 1759 m
1530 1739 l
1903 1759 m
1903 1739 l
/Times-Italic-ISOLatin1 findfont 60 scalefont setfont
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
stroke
409 301 m
gsave
409 301 translate
0 rotate
0 -20  m
(0) CS
(0) show
grestore
newpath
783 301 m
gsave
783 301 translate
0 rotate
0 -20  m
(2) CS
(2) show
grestore
newpath
1156 301 m
gsave
1156 301 translate
0 rotate
0 -20  m
(4) CS
(4) show
grestore
newpath
1530 301 m
gsave
1530 301 translate
0 rotate
0 -20  m
(6) CS
(6) show
grestore
newpath
1903 301 m
gsave
1903 301 translate
0 rotate
0 -20  m
(8) CS
(8) show
grestore
newpath
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
1249 201 m
gsave
1249 201 translate
0 rotate
0 0  m
(Number of Processes) CS
(Number of Processes) show
grestore
newpath
409 351 m
419 351 l
409 468 m
419 468 l
409 586 m
419 586 l
409 703 m
419 703 l
409 820 m
419 820 l
409 938 m
419 938 l
409 1055 m
419 1055 l
409 1172 m
419 1172 l
409 1290 m
419 1290 l
409 1407 m
419 1407 l
409 1524 m
419 1524 l
409 1642 m
419 1642 l
409 1759 m
419 1759 l
2090 351 m
2080 351 l
2090 468 m
2080 468 l
2090 586 m
2080 586 l
2090 703 m
2080 703 l
2090 820 m
2080 820 l
2090 938 m
2080 938 l
2090 1055 m
2080 1055 l
2090 1172 m
2080 1172 l
2090 1290 m
2080 1290 l
2090 1407 m
2080 1407 l
2090 1524 m
2080 1524 l
2090 1642 m
2080 1642 l
2090 1759 m
2080 1759 l
stroke
409 351 m
429 351 l
409 586 m
429 586 l
409 820 m
429 820 l
409 1055 m
429 1055 l
409 1290 m
429 1290 l
409 1524 m
429 1524 l
409 1759 m
429 1759 l
2090 351 m
2070 351 l
2090 586 m
2070 586 l
2090 820 m
2070 820 l
2090 1055 m
2070 1055 l
2090 1290 m
2070 1290 l
2090 1524 m
2070 1524 l
2090 1759 m
2070 1759 l
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
stroke
371 351 m
gsave
371 351 translate
0 rotate
0 -20  m
(0.0) RJ
(0.0) show
grestore
newpath
371 586 m
gsave
371 586 translate
0 rotate
0 -20  m
(200.0) RJ
(200.0) show
grestore
newpath
371 820 m
gsave
371 820 translate
0 rotate
0 -20  m
(400.0) RJ
(400.0) show
grestore
newpath
371 1055 m
gsave
371 1055 translate
0 rotate
0 -20  m
(600.0) RJ
(600.0) show
grestore
newpath
371 1290 m
gsave
371 1290 translate
0 rotate
0 -20  m
(800.0) RJ
(800.0) show
grestore
newpath
371 1524 m
gsave
371 1524 translate
0 rotate
0 -20  m
(1000.0) RJ
(1000.0) show
grestore
newpath
371 1759 m
gsave
371 1759 translate
0 rotate
0 -20  m
(1200.0) RJ
(1200.0) show
grestore
newpath
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
97 1055 m
gsave
97 1055 translate
90 rotate
0 0  m
(Available Capacity of Resource \(units/sec\)) CS
(Available Capacity of Resource \(units/sec\)) show
grestore
newpath
409 1524 m
596 1498 l
783 1472 l
969 1445 l
1156 1415 l
1343 1380 l
1530 1308 l
/Helvetica-ISOLatin1 findfont 33 scalefont setfont
stroke
409 1535 m
398 1513 l
420 1513 l
409 1535 l
596 1509 m
585 1487 l
607 1487 l
596 1509 l
783 1483 m
772 1461 l
794 1461 l
783 1483 l
969 1456 m
958 1434 l
980 1434 l
969 1456 l
1156 1426 m
1145 1404 l
1167 1404 l
1156 1426 l
1343 1391 m
1332 1369 l
1354 1369 l
1343 1391 l
1530 1319 m
1519 1297 l
1541 1297 l
1530 1319 l
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
stroke
409 1524 m
596 1395 l
783 1292 l
969 1180 l
1156 1005 l
1343 895 l
1530 809 l
1716 653 l
1903 550 l
2090 390 l
/Helvetica-ISOLatin1 findfont 33 scalefont setfont
stroke
398 1524 m
420 1524 l
409 1535 m
409 1513 l
402 1517 m
416 1531 l
402 1531 m
416 1517 l
585 1395 m
607 1395 l
596 1406 m
596 1384 l
589 1388 m
603 1402 l
589 1402 m
603 1388 l
772 1292 m
794 1292 l
783 1303 m
783 1281 l
776 1285 m
790 1299 l
776 1299 m
790 1285 l
958 1180 m
980 1180 l
969 1191 m
969 1169 l
962 1173 m
976 1187 l
962 1187 m
976 1173 l
1145 1005 m
1167 1005 l
1156 1016 m
1156 994 l
1149 998 m
1163 1012 l
1149 1012 m
1163 998 l
1332 895 m
1354 895 l
1343 906 m
1343 884 l
1336 888 m
1350 902 l
1336 902 m
1350 888 l
1519 809 m
1541 809 l
1530 820 m
1530 798 l
1523 802 m
1537 816 l
1523 816 m
1537 802 l
1705 653 m
1727 653 l
1716 664 m
1716 642 l
1709 646 m
1723 660 l
1709 660 m
1723 646 l
1892 550 m
1914 550 l
1903 561 m
1903 539 l
1896 543 m
1910 557 l
1896 557 m
1910 543 l
2079 390 m
2101 390 l
2090 401 m
2090 379 l
2083 383 m
2097 397 l
2083 397 m
2097 383 l
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
stroke
409 1524 m
596 1309 l
783 1098 l
969 893 l
1156 699 l
1343 522 l
1530 382 l
/Helvetica-ISOLatin1 findfont 33 scalefont setfont
stroke
409 1535 m
398 1524 l
409 1513 l
420 1524 l
409 1535 l
596 1320 m
585 1309 l
596 1298 l
607 1309 l
596 1320 l
783 1109 m
772 1098 l
783 1087 l
794 1098 l
783 1109 l
969 904 m
958 893 l
969 882 l
980 893 l
969 904 l
1156 710 m
1145 699 l
1156 688 l
1167 699 l
1156 710 l
1343 533 m
1332 522 l
1343 511 l
1354 522 l
1343 533 l
1530 393 m
1519 382 l
1530 371 l
1541 382 l
1530 393 l
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
stroke
409 1524 m
596 1395 l
783 1263 l
969 1132 l
1156 1006 l
1343 875 l
1530 739 l
1716 612 l
1903 480 l
2090 353 l
/Helvetica-ISOLatin1 findfont 33 scalefont setfont
stroke
409 1524 11 0 360 arc
stroke
596 1395 11 0 360 arc
stroke
783 1263 11 0 360 arc
stroke
969 1132 11 0 360 arc
stroke
1156 1006 11 0 360 arc
stroke
1343 875 11 0 360 arc
stroke
1530 739 11 0 360 arc
stroke
1716 612 11 0 360 arc
stroke
1903 480 11 0 360 arc
stroke
2090 353 11 0 360 arc
stroke
/Helvetica-ISOLatin1 findfont 60 scalefont setfont
/Helvetica-ISOLatin1 findfont 45 scalefont setfont
/Helvetica-ISOLatin1 findfont 45 scalefont setfont
1250 1658 m
1358 1658 l
stroke
1250 1669 m
1239 1647 l
1261 1647 l
1250 1669 l
1358 1669 m
1347 1647 l
1369 1647 l
1358 1669 l
stroke
1385 1658 m
gsave
1385 1658 translate
0 rotate
0 -15  m
(Resource R1 in Algorithm-1) show
grestore
newpath
/Helvetica-ISOLatin1 findfont 45 scalefont setfont
1250 1602 m
1358 1602 l
stroke
1239 1602 m
1261 1602 l
1250 1613 m
1250 1591 l
1243 1595 m
1257 1609 l
1243 1609 m
1257 1595 l
1347 1602 m
1369 1602 l
1358 1613 m
1358 1591 l
1351 1595 m
1365 1609 l
1351 1609 m
1365 1595 l
stroke
1385 1602 m
gsave
1385 1602 translate
0 rotate
0 -15  m
(Resource R1 in Algorithm-2) show
grestore
newpath
/Helvetica-ISOLatin1 findfont 45 scalefont setfont
1250 1546 m
1358 1546 l
stroke
1250 1557 m
1239 1546 l
1250 1535 l
1261 1546 l
1250 1557 l
1358 1557 m
1347 1546 l
1358 1535 l
1369 1546 l
1358 1557 l
stroke
1385 1546 m
gsave
1385 1546 translate
0 rotate
0 -15  m
(Resource R2 in Algorithm-1 ) show
grestore
newpath
/Helvetica-ISOLatin1 findfont 45 scalefont setfont
1250 1490 m
1358 1490 l
stroke
1250 1490 11 0 360 arc
stroke
1358 1490 11 0 360 arc
stroke
1385 1490 m
gsave
1385 1490 translate
0 rotate
0 -15  m
(Resource R2 in Algorithm-2) show
grestore
newpath
showpage
%%Trailer

%%EndDocument

 endTexFig
 1037 855 a Fd(Figure)23 b(1.)e Fc(Utilization)16 b(of)i(two)f
(resources)i(v/s)f(admit-)1037 905 y(ted)11 b(\003o)o(ws)h(for)g(\002x)
o(ed)g(allocation)f(\(algorithm)f(1\))h(and)h(load-)1037
955 y(dependent)e(allocation)f(\(algorithm)f(2\).)987
1133 y Fp(than)h(algorithm)e Fj(2)p Fp(.)13 b(Algorithm)7
b Fj(2)i Fp(tries)g(to)g(keep)g(resource)h(utiliza-)987
1183 y(tion)i(balanced)h(by)g(allocating)e(more)j(slack)f(to)g(the)f
(more)i(loaded)987 1233 y(resource.)987 1354 y Fr(9)50
b(Related)11 b(W)l(ork)1037 1467 y Fp(Recent)17 b(interest)f(in)f(pro)o
(viding)g(system)i(support)e(for)h(router)987 1517 y(programmability)8
b(has)i(led)f(to)g(the)h(speci\002cation)f(of)h(the)f(NodeOS)987
1567 y(interface)i([10)o(])h(which)e(attempts)i(to)e(lay)h(do)o(wn)g
(implementation-)987 1616 y(independent)i(primiti)o(v)o(es)f(that)h(a)h
(programmable)g(router)f(should)987 1666 y(pro)o(vide.)37
b(NodeOS)19 b Fq(implementations)d Fp(internally)h(implement)987
1716 y(these)c(primiti)o(v)o(es)e(using)g(substrates)h(like)g(language)
g(runtimes)g(or)987 1766 y(specialized)f(OSes)h([11)o(],)f(and)g(e)o
(xpose)h(the)e(NodeOS)h(interface)g(to)987 1816 y(router)j
(applications.)26 b(Placing)15 b(our)g(work)f(in)g(this)g(conte)o(xt,)j
(the)987 1865 y(requirements)f(we)h(identify)e(pertain)g(to)h(such)h
(NodeOS)f(imple-)987 1915 y(mentations.)i(In)12 b(other)f(words,)h(we)h
(e)o(xpose)f(some)h(of)f(the)g(design)987 1965 y(decisions)g(which)g
(are)h(hidden)e(beneath)i(the)f(NodeOS)g(interface,)987
2015 y(b)o(ut)h(are)i(important)d(in)h(making)h(router)f(programming)g
(a)h(practi-)987 2065 y(cal)h(paradigm.)27 b(Some)15
b(of)f(the)h(requirements)g(that)f(we)h(propose)987 2115
y(are)h(generic,)h(in)e(the)g(sense)i(that)e(the)o(y)g(can)h(be)g
(incorporated)e(in)987 2164 y(e)o(xisting)f(implementations.)25
b(F)o(or)15 b(e)o(xample,)i(ef)o(\002cient)e(memory)987
2214 y(protection)7 b(primiti)o(v)o(es)h(can)h(be)g(utilized)e(to)i
(sandbox)f(router)g(plug-)987 2264 y(ins)h([12)o(].)k(Similarly)7
b(performance)j(protection)e(requirements)h(for)987 2314
y(core)h(router)f(tasks,)h(and)g(inte)o(grated)f(resource)h(scheduling)
f(can)h(be)987 2364 y(incorporated)i(into)f(an)o(y)i(frame)o(work)g
(that)f(supports)f(scheduling.)987 2413 y(Stateful)e(computation)f(and)
h(e)o(v)o(ent-dri)o(v)o(en)g(control)f(\003o)o(w)h(may)h(not)987
2463 y(be)k(possible)f(in)h(some)h(systems,)g(notably)e(systems)i
(based)f(upon)987 2513 y(functional)c(languages.)17 b(Ho)o(we)o(v)o(er)
12 b(\002ne-grained)g(scheduling)e(af-)987 2563 y(forded)e(by)h(e)o(v)o
(ent-dri)o(v)o(en)f(control)g(\003o)o(w)g(can)i(be)f(supported)f(in)g
(lan-)987 2613 y(guage)h(runtimes)g(by)g(gi)o(ving)e(control)h(to)h
(the)g(language)g(runtime)f(at)987 2662 y(\(a)j(chosen)f(set)h(of\))e
(function)g(calls.)930 2787 y(5)p eop
%%Page: 6 6
6 5 bop -91 42 a Fr(Refer)o(ences)-91 145 y Fb([1])40
b(W)m(etherall)16 b(D.,)i(Service)d(Introduction)h(in)f(an)h(Acti)o(v)o
(e)f(Network,)-8 191 y(PhD)9 b(thesis,)f(MIT)i(Laboratory)e(for)i
(Computer)f(Scince.)-91 245 y([2])40 b(P)o(apadopoulos)6
b(C.,)k Fa(et)f(al)p Fb(,)g(An)g(Error)o(-Control)h(Scheme)e(for)h(Lar)
o(ge-)-8 291 y(Scale)h(Reliable)h(Multicast)h(Applications,)f(Proc.)g
(IEEE)h(Infocom)-8 336 y(1998.)-91 390 y([3])40 b(Amir)17
b(E.,)i Fa(et)d(al)p Fb(,)i(An)e(Applical)h(Le)o(v)o(el)e(V)n(ideo)h
(Gate)o(way)n(,)g(Proc.)-8 436 y(A)o(CM)9 b(Multimedia)g(1995.)-91
490 y([4])40 b(Pradhan)8 b(P)l(.,)j Fa(et)f(al)p Fb(,)h(Aggre)o(gate)e
(TCP)g(Congestion)g(Control)h(Using)-8 535 y(Multiple)g(Network)f
(Probing,)g(Proc.)g(ICDCS)g(2000.)-91 589 y([5])40 b(Apostolopoulos)9
b(G.,)14 b Fa(et)e(al)p Fb(,)h(Design,)f(Implementation)g(and)f(Per)o
(-)-8 635 y(formance)h(of)h(a)g(Content-Based)e(Switch.)j(Proc.)f(IEEE)
g(Infocom)-8 681 y(2000.)-91 735 y([6])40 b(Chiueh)11
b(T)m(.,)j Fa(et)e(al)p Fb(,)h(Inte)o(grating)g(Se)o(gmentation)e(and)g
(P)o(aging)h(Pro-)-8 780 y(tection)g(for)h(Safe,)g(T)o(ransparent)d
(and)i(Ef)o(\002cient)g(Software)g(Exten-)-8 826 y(sions,)c(Proc.)h(A)o
(CM)g(SOSP)g(1999.)-91 880 y([7])40 b(T)m(akahashi)17
b(M.,)24 b Fa(et)c(al)p Fb(,)i(Ef)o(\002cient)e(K)o(ernel)g(Support)f
(for)h(Fine-)-8 926 y(Grained)8 b(Protection)h(Domains)f(for)i(Mobile)g
(Code,)e(Proc.)h(ICDCS)-8 971 y(1998.)-91 1025 y([8])40
b(Kaashoek)8 b(F)m(.,)j Fa(et)g(al)p Fb(,)h(Application)e(Performance)f
(and)h(Fle)o(xibility)-8 1071 y(on)e(Exokernel)g(Systems,)g(Proc.)h(A)o
(CM)g(SOSP)g(1997.)-91 1125 y([9])40 b(Banga)10 b(G.,)k
Fa(et)e(al)p Fb(,)i(Resource)c(Containers)h(:)18 b(A)13
b(Ne)o(w)f(F)o(acility)h(for)-8 1171 y(Resource)g(Management)h(in)i
(Serv)o(er)f(Clusters,)i(Proc.)e(USENIX)-8 1216 y(1999.)-91
1270 y([10])21 b(Peterson)8 b(L.,)i Fa(et)f(al)p Fb(,)h(NodeOS)e
(Interface)g(Speci\002cation.)-91 1324 y([11])21 b(Peterson)8
b(L.,)h Fa(et)g(al)p Fb(,)h(A)f(NodeOS)f(Interface)g(for)i(Acti)o(v)o
(e)f(Networks,)-8 1370 y(In)g(IEEE)h(JSA)o(C)e(2001.)-91
1424 y([12])21 b(Decasper)8 b(D.)p Fa(et)j(al)p Fb(,)g(Router)g
(Plugins)e(:)15 b(A)10 b(Software)g(Architecture)-8 1469
y(for)g(Ne)o(xt-Generation)f(Routers,)f(Proc.)i(A)o(CM)f(SIGCOMM)g
(1998.)930 2787 y Fp(6)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
